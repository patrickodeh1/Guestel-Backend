<!DOCTYPE html>
<html>
<head>
  <title>Hostify - {% block title %}Home{% endblock %}</title> 
</head>
<body>
  <header>
    <h1>Hostify</h1>
    <nav>
      <ul>
        <li><a href="{% url 'home' %}">Homepage</a></li>
        {% if user.is_authenticated %}
          <li><a href="{% url 'logout' %}">Logout</a></li>
          {% if user.is_hotel_owner %} 
            <li><a href="{% url 'hotel_dashboard' %}">Dashboard</a></li> 
          {% endif %}
        {% else %}
          <li><a href="{% url 'login' %}">Login</a></li>
          <li><a href="{% url 'select_user_type' %}">Register</a></li>
        {% endif %}
      </ul>
    </nav>
  </header>

  <main>
    {% block content %}
      <h2>Find Your Perfect Stay</h2>

      <form method="get">
        <div>
          <label for="min_price">Min Price:</label>
          <input type="number" id="min_price" name="min_price" min="0">
        </div>
        <div>
          <label for="max_price">Max Price:</label>
          <input type="number" id="max_price" name="max_price" min="0">
        </div>
        <div>
          <label for="amenities">Amenities:</label>
          {% for amenity in amenities %}
            <input type="checkbox" id="amenity_{{ amenity.id }}" name="amenities" value="{{ amenity.id }}">
            <label for="amenity_{{ amenity.id }}">{{ amenity.name }}</label><br>
          {% endfor %}
        </div>
        <div>
          <label for="min_rating">Min Rating:</label>
          <select id="min_rating" name="min_rating">
            <option value="">Any</option>
            {% for i in "12345"|make_list %}
              <option value="{{ i }}" {% if request.GET.min_rating == i %}selected{% endif %}>
                {{ i }} Star{% if i > 1 %}s{% endif %}
              </option>
            {% endfor %}
          </select>
        </div>
        <button type="submit">Search</button>
      </form>

      {% if user.is_authenticated %}
      <h2>Available Hotels</h2>
      <ul>
        {% for hotel in hotels %}
        <li>
          <a href="{% url 'hotel_detail' hotel.id %}">{{ hotel.name }}</a>
        </li>
      {% endfor %}
      </ul>
      {% else %}
      <p>Register or login to your account to view available hotels</p>
      {% endif %}
    {% endblock %}
  </main>

  <footer>
    <p>&copy; Hostify 2025</p>
  </footer>
</body>
</html>